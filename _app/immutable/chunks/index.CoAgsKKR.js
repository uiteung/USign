import{n as t,s as n}from"./scheduler.QzJ_vLde.js";const e=[];function s(s,o=t){let c;const r=new Set;function u(t){if(n(s,t)&&(s=t,c)){const t=!e.length;for(const n of r)n[1](),e.push(n,s);if(t){for(let t=0;t<e.length;t+=2)e[t][0](e[t+1]);e.length=0}}}function f(t){u(t(s))}return{set:u,update:f,subscribe:function(n,e=t){const i=[n,e];return r.add(i),1===r.size&&(c=o(u,f)||t),n(s),()=>{r.delete(i),0===r.size&&c&&(c(),c=null)}}}}export{s as w};
